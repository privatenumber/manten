"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var S=require("expect");let f,m,y,p,b=!0;typeof process<"u"&&({FORCE_COLOR:f,NODE_DISABLE_COLORS:m,NO_COLOR:y,TERM:p}=process.env||{},b=process.stdout&&process.stdout.isTTY);const g={enabled:!m&&y==null&&p!=="dumb"&&(f!=null&&f!=="0"||b)};function w(e,t){let o=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,c=`\x1B[${t}m`;return function(s){return!g.enabled||s==null?s:n+(~(""+s).indexOf(c)?s.replace(o,c+n):s)+c}}const P=w(31,39),x=w(32,39),E=x("\u2714"),C=P("\u2716"),I=async(e,t)=>new Promise((o,n)=>{t.timeoutId=setTimeout(()=>{n(new Error(`Timeout: ${e}ms`))},e)});function T(e,t){return async function(n,c,s){e&&(n=`${e} ${n}`);const u=(async()=>{let i;const a={onTestFail(r){i=r}};try{if(s){const r={timeoutId:void 0};try{await Promise.race([c(a),I(s,r)])}finally{clearTimeout(r.timeoutId)}}else await c(a);console.log(E,n)}catch(r){console.error(C,n),r&&typeof r=="object"&&"matcherResult"in r&&r.constructor.name==="JestAssertionError"&&delete r.matcherResult,console.error(r),process.exitCode=1,typeof i=="function"&&i(r)}})();t&&t.push(u),await u}}async function _(e){for(;e.length>0;){const t=e.splice(0);await Promise.all(t)}}function O(e,t){return async function(n,c){e&&(n=`${e} ${n}`);const s=[];try{const u=(async()=>{const i={test:T(`${n} \u203A`,s),describe:O(`${n} \u203A`,s),runTestSuite:(a,...r)=>{const d=(async()=>{let l=await a;return"default"in l&&(l=l.default),l.apply(i,r)})();return s.push(d),d}};await c(i),await _(s)})();t&&t.push(u),await u}catch(u){console.error(u)}}}const h=T(),$=O(),R={describe:$,test:h,runTestSuite:async(e,...t)=>{let o=await e;return"default"in o&&(o=o.default),"default"in o&&(o=o.default),o.apply(R,t)}};function v(e){return function(...t){return e(this||R,...t)}}Object.defineProperty(exports,"expect",{enumerable:!0,get:function(){return S.expect}}),exports.describe=$,exports.test=h,exports.testSuite=v;
